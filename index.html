<html>
<head>
<title>Aubengine</title>
<meta http-equiv='content-type' content='text/html; charset=ISO-8859-1'>
<link href='assets/styles/bootstrap.min.css'   type='text/css' rel='stylesheet'>
<link href='assets/styles/style.css'   type='text/css' rel='stylesheet'>


<script type='text/javascript' src='dist/dependencies.js'></script>
<script type='text/javascript' src='dist/Aubengine.js'></script>

<script type="text/javascript">
/* Main Script */

var aubengine;

function runShowRoom(){
  aubengine = new Aubengine("the-canvas");
  aubengine.setUpEnvironment();
  //create main camera
  var camera = aubengine.createCamera('main',[0.0,0.2,7],[0.0,0.0,0.0], 10,-11);

  //create main four lights
  var fleft  = aubengine.createLight('fleft', [-25,25,-25],[0.4,0.4,0.4],[0.0,0.0,0.0],[0.8,0.8,0.8]);
  var fright = aubengine.createLight('fright',[ 25,25,-25 ] ,[0.4,0.4,0.4],[0.0,0.0,0.0],[0.8,0.8,0.8]);
  var nleft  = aubengine.createLight('nleft', [-25,25, 25 ],[0.4,0.4,0.4],[0.0,0.0,0.0],[0.8,0.8,0.8]);
  var nright = aubengine.createLight('nright',[ 25,25, 25  ],[0.4,0.4,0.4],[0.0,0.0,0.0],[0.8,0.8,0.8]);

  //create some meshes
  var cube  = aubengine.createMesh('models/simpleCube.json', 'cube');
  cube.setPosition([1,1,0]);
  cube.setSize([1.5, 1.5, 1.5]);
  cube.setSpecularColor(255, 123, 19);

  var sphere = aubengine.createMesh('models/sphere.json', 'sphere');
  sphere.setPosition([0,-1,1]);
  sphere.setSize([1,1,1]);
  sphere.setSpecularColor(40, 255, 255);

  var chair = aubengine.createMesh('models/chair.json', 'chair');
  chair.setPosition([-2,-1,-2]);
  chair.setSize([0.3,0.3,0.3]);
  chair.setSpecularColor(255, 30, 120);

  var cone = aubengine.createMesh('models/cone.json', 'cone');
  cone.setPosition([0,0,1]);
  cone.setSize([0.2,0.2,0.2]);
  cone.setSpecularColor(160, 255, 20);
  //scene tree
  var cameraNode = aubengine.createNode(camera);
  aubengine.addNode(aubengine.getRoot(), cameraNode);

  var fleftNode = aubengine.createNode(fleft);
  aubengine.addNode(aubengine.getRoot(), fleftNode);

  var nrightNode = aubengine.createNode(nright);
  aubengine.addNode(aubengine.getRoot(), nrightNode);
  //**//


  var meshNode = aubengine.createNode(cube);
  aubengine.addNode(aubengine.getRoot(), meshNode);

  var meshNode2 = aubengine.createNode(sphere);
  aubengine.addNode(meshNode, meshNode2);

  var meshNode3 = aubengine.createNode(chair);
  aubengine.addNode(aubengine.getRoot(), meshNode3);

  var meshNode4 = aubengine.createNode(cone);
  aubengine.addNode(meshNode3, meshNode4);

  aubengine.getTree().saveEntities(aubengine);

  aubengine.setMainCamera(camera);
};

</script>
</head>

<body onload="runShowRoom(draw)">
<div id="header">
    <h1>Aubengine</h1>
    <button id="draw" class="btn btn-default">draw</button>
</div>

<div id="content">
    <canvas id='the-canvas'></canvas>
</div>

<script type='text/javascript'>resizeCanvas();</script>
<script type='text/javascript'>document.getElementById('draw').addEventListener('click', function(event) {
  aubengine.draw();
});</script>
</body>
</html>
